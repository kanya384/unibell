# Тестовое задание Unibell

Спроектировать простую БД, обеспечивающую хранение информации о клиентах и их контактой информации.
Каждый клиент характеризуется именем.
Каждому клиенту в соответствие может быть поставлена информация о его контактах: 0 и более телефонных номеров, 0 и более
адресов электронной почты.
Разработать в Spring Framework API, обеспечивающее работу с данной БД.
API должно обеспечивать следующие функции:

1) Добавление нового клиента
2) Добавление нового контакта клиента (телефон или email)
3) Получение списка клиентов
4) Получение информации по заданному клиенту (по id)
5) Получение списка контактов заданного клиента
6) Получение списка контактов заданного типа заданного клиента

Реализованный проект с описанием ендпоинтов разработанного API выложить на GIT и предоставить ссылку

## Запуск

Поднять postgresql в докере командой:

```bash
docker run --name postgres -e POSTGRES_DB=clients -e POSTGRES_USER=postgres -e POSTGRES_PASSWORD=password -p 5432:5432 -d postgres
```

Запустить приложение

## Описание эндпоинтов

Эндпоинты:

1. POST /client

   Создание клиента, принимает json, пример:

```json
{
  "name": "имя 1"
}
```

2. GET /client

   Выводит список клиентов. Пример результата запроса:

```json
[
  {
    "id": 1,
    "name": "имя 1"
  },
  {
    "id": 2,
    "name": "имя 2"
  }
]
```

3. GET /client/{id}

   Выводит детальную информацию о клиенте по id. Пример результата запроса:

```json
{
  "id": 1,
  "name": "имя 1",
  "contacts": [
    {
      "id": 1,
      "value": "79604528124",
      "type": "phone"
    },
    {
      "id": 3,
      "value": "79604528128",
      "type": "phone"
    },
    {
      "id": 4,
      "value": "test01@mail.ru",
      "type": "email"
    }
  ]
}
```

4. PUT /client/{id}/contact/{type}

   Добавляет клиенту с заданным id контакт указанного типа в type (email или phone).
   Пример создания email для контакта с id = 1:

```json
/client/1/contact/email

тело запроса:

{
"value": "kanya384@mail.ru"
}
```

5. GET /client/{id}/contact?type={type}

   Если query параметр type не указан, то Возвращает весь список контактов клиента с заданным id, иначе
   возвращает список контактов заданного в type типа (email или phone):

```json
/client/1/contact


[
  {
    "id": 1,
    "value": "79604528124",
    "type": "phone"
  },
  {
    "id": 3,
    "value": "79604528128",
    "type": "phone"
  },
  {
    "id": 4,
    "value": "kanya384@mail.ru",
    "type": "email"
  }
]

/client/1/contact?type=phone

[
{
"id": 1,
"value": "79604528124",
"type": "phone"
},
{
"id": 3,
"value": "79604528128",
"type": "phone"
}
]
```
